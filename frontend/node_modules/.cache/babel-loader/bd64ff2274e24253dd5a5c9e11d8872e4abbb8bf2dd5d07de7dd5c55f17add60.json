{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RIMI\\\\Desktop\\\\eduattend\\\\Atendo-main\\\\frontend\\\\src\\\\pages\\\\StudentForm.js\",\n  _s = $RefreshSig$();\n//create a new session component\nimport React, { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport API_BASE_URL from \"../config/api\";\nimport \"../styles/StudentForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentForm = ({\n  togglePopup\n}) => {\n  _s();\n  //eslint-disable-next-line\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [image, setImage] = useState({\n    contentType: \"\",\n    data: \"\"\n  });\n  const [photoData, setPhotoData] = useState(\"\"); // To store the captured photo data\n  const videoRef = useRef(null);\n  const constraints = {\n    video: true\n  };\n  const startCamera = () => {\n    navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n      videoRef.current.srcObject = stream;\n    }).catch(error => {\n      console.error(\"Error accessing camera:\", error);\n    });\n  };\n  const stopCamera = () => {\n    const stream = videoRef.current.srcObject;\n    const tracks = stream.getTracks();\n    tracks.forEach(track => track.stop());\n    videoRef.current.srcObject = null;\n  };\n  const capturePhoto = async () => {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = videoRef.current.videoWidth;\n    canvas.height = videoRef.current.videoHeight;\n    canvas.getContext(\"2d\").drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n    const photoDataUrl = canvas.toDataURL(\"image/png\");\n    setImage(await fetch(photoDataUrl).then(res => res.blob()));\n    setPhotoData(photoDataUrl);\n    stopCamera();\n  };\n  const ResetCamera = () => {\n    setPhotoData(\"\");\n    startCamera();\n  };\n  const AttendSession = async e => {\n    e.preventDefault();\n    let regno = e.target.regno.value;\n    if (!token) {\n      alert(\"Session expired. Please login again.\");\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n      return;\n    }\n\n    //get user IP address\n    axios.defaults.withCredentials = false;\n    const res = await axios.get(\"https://api64.ipify.org?format=json\");\n    axios.defaults.withCredentials = true;\n    //\n    let IP = res.data.ip;\n    if (navigator.geolocation) {\n      console.log(\"Geolocation is supported!\");\n      navigator.geolocation.getCurrentPosition(async position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        let locationString = `${latitude},${longitude}`;\n        if (regno.length > 0) {\n          if (!image) {\n            alert(\"Please capture a photo before submitting attendance!\");\n            return;\n          }\n          const formData = new FormData();\n          formData.append('token', token);\n          formData.append('regno', regno);\n          formData.append('session_id', localStorage.getItem(\"session_id\"));\n          formData.append('teacher_email', localStorage.getItem(\"teacher_email\"));\n          formData.append('IP', IP);\n          formData.append('date', new Date().toISOString().split(\"T\")[0]);\n          formData.append('Location', locationString);\n          formData.append('student_email', localStorage.getItem(\"email\"));\n          formData.append('image', image, 'attendance-photo.png');\n          try {\n            console.log(\"sending data to server\");\n            console.log(\"FormData entries:\");\n            for (let pair of formData.entries()) {\n              console.log(pair[0] + ': ' + pair[1]);\n            }\n            const response = await axios.post(`${API_BASE_URL}/sessions/attend_session`, formData, {\n              headers: {\n                \"Content-Type\": \"multipart/form-data\"\n              }\n            });\n            //replace the contents of the popup with success message\n            document.querySelector(\".form-popup-inner\").innerHTML = `\n                <div style=\"text-align: center; padding: 20px;\">\n                  <div style=\"font-size: 48px; margin-bottom: 15px;\">✅</div>\n                  <h3 style=\"color: #27ae60; margin-bottom: 10px;\">Attendance Marked Successfully!</h3>\n                  <p style=\"color: #555; margin-bottom: 20px;\">${response.data.message}</p>\n                  <button onclick=\"window.location.reload()\" style=\"\n                    background: linear-gradient(135deg, #27ae60, #219a52);\n                    color: white;\n                    border: none;\n                    padding: 10px 25px;\n                    border-radius: 20px;\n                    cursor: pointer;\n                    font-size: 14px;\n                  \">Close & Return to Dashboard</button>\n                </div>\n              `;\n          } catch (err) {\n            console.error(err);\n\n            // Check if it's a 401 error (token expired)\n            if (err.response && err.response.status === 401) {\n              localStorage.removeItem('token');\n              window.location.href = '/login';\n              return;\n            }\n\n            // Show error message\n            document.querySelector(\".form-popup-inner\").innerHTML = `\n                <div style=\"text-align: center; padding: 20px;\">\n                  <div style=\"font-size: 48px; margin-bottom: 15px;\">❌</div>\n                  <h3 style=\"color: #e74c3c; margin-bottom: 10px;\">Attendance Failed!</h3>\n                  <p style=\"color: #555; margin-bottom: 20px;\">Please try again or contact your teacher.</p>\n                  <button onclick=\"window.location.reload()\" style=\"\n                    background: linear-gradient(135deg, #e74c3c, #c0392b);\n                    color: white;\n                    border: none;\n                    padding: 10px 25px;\n                    border-radius: 20px;\n                    cursor: pointer;\n                    font-size: 14px;\n                  \">Try Again</button>\n                </div>\n              `;\n          }\n        } else {\n          alert(\"Please fill all the fields\");\n        }\n      }, error => {\n        console.error(\"Error getting geolocation:\", error);\n      });\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n      console.error(\"Geolocation is not supported by this browser.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-popup\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: togglePopup,\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-popup-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Enter Your Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), !photoData && /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        width: 300,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 24\n      }, this), photoData && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: photoData,\n        width: 300,\n        alt: \"Captured\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cam-btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startCamera,\n          children: \"Start Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: capturePhoto,\n          children: \"Capture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: ResetCamera,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: AttendSession,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"regno\",\n          placeholder: \"RegNo\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentForm, \"Hg88S7Trfc1GF1eTcfABKnaZ87Q=\");\n_c = StudentForm;\nexport default StudentForm;\nvar _c;\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"names":["React","useState","useRef","axios","API_BASE_URL","jsxDEV","_jsxDEV","StudentForm","togglePopup","_s","token","setToken","localStorage","getItem","image","setImage","contentType","data","photoData","setPhotoData","videoRef","constraints","video","startCamera","navigator","mediaDevices","getUserMedia","then","stream","current","srcObject","catch","error","console","stopCamera","tracks","getTracks","forEach","track","stop","capturePhoto","canvas","document","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","photoDataUrl","toDataURL","fetch","res","blob","ResetCamera","AttendSession","e","preventDefault","regno","target","value","alert","removeItem","window","location","href","defaults","withCredentials","get","IP","ip","geolocation","log","getCurrentPosition","position","latitude","longitude","coords","locationString","length","formData","FormData","append","Date","toISOString","split","pair","entries","response","post","headers","querySelector","innerHTML","message","err","status","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","src","alt","onSubmit","type","name","placeholder","autoComplete","_c","$RefreshReg$"],"sources":["C:/Users/RIMI/Desktop/eduattend/Atendo-main/frontend/src/pages/StudentForm.js"],"sourcesContent":["//create a new session component\r\nimport React, { useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport API_BASE_URL from \"../config/api\";\r\nimport \"../styles/StudentForm.css\";\r\n\r\nconst StudentForm = ({ togglePopup }) => {\r\n  //eslint-disable-next-line\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\r\n  const [image, setImage] = useState({ contentType: \"\", data: \"\" });\r\n  const [photoData, setPhotoData] = useState(\"\"); // To store the captured photo data\r\n  const videoRef = useRef(null);\r\n\r\n  const constraints = {\r\n    video: true,\r\n  };\r\n  const startCamera = () => {\r\n    navigator.mediaDevices\r\n      .getUserMedia(constraints)\r\n      .then((stream) => {\r\n        videoRef.current.srcObject = stream;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error accessing camera:\", error);\r\n      });\r\n  };\r\n  const stopCamera = () => {\r\n    const stream = videoRef.current.srcObject;\r\n    const tracks = stream.getTracks();\r\n\r\n    tracks.forEach((track) => track.stop());\r\n    videoRef.current.srcObject = null;\r\n  };\r\n  const capturePhoto = async () => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = videoRef.current.videoWidth;\r\n    canvas.height = videoRef.current.videoHeight;\r\n    canvas\r\n      .getContext(\"2d\")\r\n      .drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n\r\n    const photoDataUrl = canvas.toDataURL(\"image/png\");\r\n\r\n    setImage(await fetch(photoDataUrl).then((res) => res.blob()));\r\n\r\n    setPhotoData(photoDataUrl);\r\n    stopCamera();\r\n  };\r\n  const ResetCamera = () => {\r\n    setPhotoData(\"\");\r\n    startCamera();\r\n  };\r\n\r\n  const AttendSession = async (e) => {\r\n    e.preventDefault();\r\n    let regno = e.target.regno.value;\r\n    \r\n    if (!token) {\r\n      alert(\"Session expired. Please login again.\");\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n      return;\r\n    }\r\n    \r\n    //get user IP address\r\n    axios.defaults.withCredentials = false;\r\n    const res = await axios.get(\"https://api64.ipify.org?format=json\");\r\n    axios.defaults.withCredentials = true;\r\n    //\r\n    let IP = res.data.ip;\r\n    if (navigator.geolocation) {\r\n      console.log(\"Geolocation is supported!\");\r\n      navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n          const { latitude, longitude } = position.coords;\r\n          let locationString = `${latitude},${longitude}`;\r\n\r\n          if (regno.length > 0) {\r\n            \r\n            if (!image) {\r\n              alert(\"Please capture a photo before submitting attendance!\");\r\n              return;\r\n            }\r\n            \r\n            const formData = new FormData();\r\n            formData.append('token', token);\r\n            formData.append('regno', regno);\r\n            formData.append('session_id', localStorage.getItem(\"session_id\"));\r\n            formData.append('teacher_email', localStorage.getItem(\"teacher_email\"));\r\n            formData.append('IP', IP);\r\n            formData.append('date', new Date().toISOString().split(\"T\")[0]);\r\n            formData.append('Location', locationString);\r\n            formData.append('student_email', localStorage.getItem(\"email\"));\r\n            formData.append('image', image, 'attendance-photo.png');\r\n            \r\n            try {\r\n              console.log(\"sending data to server\");\r\n              console.log(\"FormData entries:\");\r\n              for (let pair of formData.entries()) {\r\n                console.log(pair[0] + ': ' + pair[1]);\r\n              }\r\n              \r\n              const response = await axios.post(\r\n                `${API_BASE_URL}/sessions/attend_session`,\r\n                formData,\r\n                {\r\n                  headers: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                  },\r\n                }\r\n              );\r\n              //replace the contents of the popup with success message\r\n              document.querySelector(\r\n                \".form-popup-inner\"\r\n              ).innerHTML = `\r\n                <div style=\"text-align: center; padding: 20px;\">\r\n                  <div style=\"font-size: 48px; margin-bottom: 15px;\">✅</div>\r\n                  <h3 style=\"color: #27ae60; margin-bottom: 10px;\">Attendance Marked Successfully!</h3>\r\n                  <p style=\"color: #555; margin-bottom: 20px;\">${response.data.message}</p>\r\n                  <button onclick=\"window.location.reload()\" style=\"\r\n                    background: linear-gradient(135deg, #27ae60, #219a52);\r\n                    color: white;\r\n                    border: none;\r\n                    padding: 10px 25px;\r\n                    border-radius: 20px;\r\n                    cursor: pointer;\r\n                    font-size: 14px;\r\n                  \">Close & Return to Dashboard</button>\r\n                </div>\r\n              `;\r\n            } catch (err) {\r\n              console.error(err);\r\n              \r\n              // Check if it's a 401 error (token expired)\r\n              if (err.response && err.response.status === 401) {\r\n                localStorage.removeItem('token');\r\n                window.location.href = '/login';\r\n                return;\r\n              }\r\n              \r\n              // Show error message\r\n              document.querySelector(\r\n                \".form-popup-inner\"\r\n              ).innerHTML = `\r\n                <div style=\"text-align: center; padding: 20px;\">\r\n                  <div style=\"font-size: 48px; margin-bottom: 15px;\">❌</div>\r\n                  <h3 style=\"color: #e74c3c; margin-bottom: 10px;\">Attendance Failed!</h3>\r\n                  <p style=\"color: #555; margin-bottom: 20px;\">Please try again or contact your teacher.</p>\r\n                  <button onclick=\"window.location.reload()\" style=\"\r\n                    background: linear-gradient(135deg, #e74c3c, #c0392b);\r\n                    color: white;\r\n                    border: none;\r\n                    padding: 10px 25px;\r\n                    border-radius: 20px;\r\n                    cursor: pointer;\r\n                    font-size: 14px;\r\n                  \">Try Again</button>\r\n                </div>\r\n              `;\r\n            }\r\n          } else {\r\n            alert(\"Please fill all the fields\");\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error(\"Error getting geolocation:\", error);\r\n        }\r\n      );\r\n    } else {\r\n      alert(\"Geolocation is not supported by this browser.\");\r\n      console.error(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-popup\">\r\n      <button onClick={togglePopup}>\r\n        <strong>X</strong>\r\n      </button>\r\n      <div className=\"form-popup-inner\">\r\n        <h5>Enter Your Details</h5>\r\n        {!photoData && <video ref={videoRef} width={300} autoPlay={true} />}\r\n        {photoData && <img src={photoData} width={300} alt=\"Captured\" />}\r\n        <div className=\"cam-btn\">\r\n          <button onClick={startCamera}>Start Camera</button>\r\n          <button onClick={capturePhoto}>Capture</button>\r\n          <button onClick={ResetCamera}>Reset</button>\r\n        </div>\r\n\r\n        <form onSubmit={AttendSession}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"regno\"\r\n            placeholder=\"RegNo\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button type=\"submit\">Done</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}